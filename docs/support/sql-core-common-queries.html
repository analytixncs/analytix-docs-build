<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Common Core Queries · Newscycle Solutions - Analytix Docs</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="- [Core Credits and Debits](#core-credits-and-debits)"/><meta property="og:title" content="Common Core Queries · Newscycle Solutions - Analytix Docs"/><meta property="og:type" content="website"/><meta property="og:url" content=".//index.html"/><meta property="og:description" content="- [Core Credits and Debits](#core-credits-and-debits)"/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/img/favicon.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><link rel="stylesheet" href="/css/main.css"/></head><body class="sideNavVisible doc separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/newscycle-circle.png" alt="Newscycle Solutions - Analytix Docs"/><h2 class="headerTitleWithLogo">Newscycle Solutions - Analytix Docs</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/docs/analytix/analytix-bi-overview.html" target="_self">Analytix</a></li><li class="siteNavGroupActive"><a href="/docs/bi/bi-resources.html" target="_self">BI</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Common SQL Core/BI</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup navGroupActive"><h3>BI Maintenance</h3><ul><li class="navListItem"><a class="navItem" href="/docs/bi/bi-database-core-mapping.html">BI Database Core Mapping</a></li><li class="navListItem"><a class="navItem" href="/docs/bi/bi-auditors.html">Running The BI Auditors</a></li></ul></div><div class="navGroup navGroupActive"><h3>BI Resources</h3><ul><li class="navListItem"><a class="navItem" href="/docs/bi/bi-resources.html">BI Resources</a></li></ul></div><div class="navGroup navGroupActive"><h3>BI Support Docs</h3><ul><li class="navListItem"><a class="navItem" href="/docs/bi/bi-faq.html">BI FAQ</a></li><li class="navListItem"><a class="navItem" href="/docs/support/bi-chargetypes.html">BI ChargeTypes Explained</a></li></ul></div><div class="navGroup navGroupActive"><h3>Common SQL Core/BI</h3><ul><li class="navListItem"><a class="navItem" href="/docs/support/sql-bi-common-queries.html">Common BI Queries</a></li><li class="navListItem navListItemActive"><a class="navItem navItemActive" href="/docs/support/sql-core-common-queries.html">Common Core Queries</a></li></ul></div></div></section></div><script>
            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              const headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                if (event.target.tagName === 'A') {
                  document.body.classList.remove('tocActive');
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1>Common Core Queries</h1></header><article><div><span><ul>
<li><a href="#core-credits-and-debits">Core Credits and Debits</a></li>
<li><a href="#core-payments">Core Payments</a></li>
<li><a href="#fntransactions-joins">fnTransactions Joins</a></li>
<li><a href="#salescomm-reps">SalesComm Reps</a></li>
<li><a href="#usrusers-reps">UsrUsers Reps</a></li>
<li><a href="#contract-customers">Contract Customers</a></li>
<li><a href="#gl-number-from-adordernumber">GL Number From AdOrderNumber</a></li>
<li><a href="#agency-or-parent-relationship">Agency or Parent Relationship</a></li>
<li><a href="#rate-information">Rate Information</a></li>
<li><a href="#aging-tables">Aging Tables</a></li>
</ul>
<hr>
<p>Most of these queries have <code>where</code> statements which allow you to limit the query by some field.  While these are pretty obvious to find, they will be show in the following way:</p>
<blockquote>
<p>Limited By: <strong>field limited by</strong></p>
</blockquote>
<hr>
<h2><a class="anchor" aria-hidden="true" id="core-credits-and-debits"></a><a href="#core-credits-and-debits" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Core Credits and Debits</h2>
<p>Get Credits or Debits, not deleted and associated <strong>aoCustomerCD</strong> information.</p>
<pre><code class="hljs css languages- sql"><span class="hljs-keyword">SELECT</span> crdb.*, 
       crdb.amount, 
       crdb.transtype, 
       crdb.deleted, 
       custcd.* 
<span class="hljs-keyword">FROM</span>   aocreditdebit crdb, 
       aocustomercd custcd 
<span class="hljs-keyword">WHERE</span>  crdb.id = custcd.transid 
       <span class="hljs-keyword">AND</span> crdb.transtype = <span class="hljs-number">3</span> 
       <span class="hljs-keyword">AND</span> crdb.deleted = <span class="hljs-number">0</span> 
       <span class="hljs-keyword">AND</span> crdb.amount &lt; <span class="hljs-number">0</span> <span class="hljs-comment">--Comment out for Debits</span>
   <span class="hljs-comment">--  AND crdb.Amount &gt;0  --Use this for Debits</span>
</code></pre>
<hr>
<h2><a class="anchor" aria-hidden="true" id="core-payments"></a><a href="#core-payments" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Core Payments</h2>
<p>Get Payments, not deleted and associated <strong>aoPayment</strong> information</p>
<pre><code class="hljs css languages- sql"><span class="hljs-keyword">SELECT</span> crdb.amount, 
       crdb.transtype, 
       crdb.deleted, 
       pay.* 
<span class="hljs-keyword">FROM</span>   aocreditdebit crdb, 
       aopayments pay 
<span class="hljs-keyword">WHERE</span>  crdb.id = pay.transid 
       <span class="hljs-keyword">AND</span> crdb.transtype = <span class="hljs-number">2</span> 
       <span class="hljs-keyword">AND</span> crdb.deleted = <span class="hljs-number">0</span> 
</code></pre>
<hr>
<h2><a class="anchor" aria-hidden="true" id="fntransactions-joins"></a><a href="#fntransactions-joins" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>fnTransactions Joins</h2>
<blockquote>
<p>Limited By: <strong>transnum</strong></p>
</blockquote>
<pre><code class="hljs css languages- sql"><span class="hljs-keyword">SELECT</span> f.* 
<span class="hljs-keyword">FROM</span>   fntransactions f, 
       fntranslines fl, 
       fntranslinedist fd, 
       fntranslinedstdetail fdd 
<span class="hljs-keyword">WHERE</span>  f.id = fl.ownerid 
       <span class="hljs-keyword">AND</span> fl.id = fd.ownerid 
       <span class="hljs-keyword">AND</span> fd.id = fdd.ownerid 
       <span class="hljs-keyword">AND</span> transnum = <span class="hljs-string">''</span> 
</code></pre>
<hr>
<h2><a class="anchor" aria-hidden="true" id="salescomm-reps"></a><a href="#salescomm-reps" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>SalesComm Reps</h2>
<blockquote>
<p>Limited By: <strong>adorderid</strong></p>
</blockquote>
<pre><code class="hljs css languages- sql"><span class="hljs-keyword">SELECT</span> u.loginname <span class="hljs-keyword">AS</span> SalesCommRep, 
       sc.* 
<span class="hljs-keyword">FROM</span>   aoinsertionsalescomm sc, 
       usrusers u 
<span class="hljs-keyword">WHERE</span>  adorderid = <span class="hljs-string">''</span> 
       <span class="hljs-keyword">AND</span> sc.salesrepid = u.userid 
</code></pre>
<hr>
<h2><a class="anchor" aria-hidden="true" id="usrusers-reps"></a><a href="#usrusers-reps" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>UsrUsers Reps</h2>
<blockquote>
<p>Limited By: <strong>accountid</strong> from customer table</p>
</blockquote>
<pre><code class="hljs css languages- sql"><span class="hljs-keyword">SELECT</span> u.loginname, 
       st.teamname, 
       c.* 
<span class="hljs-keyword">FROM</span>   customer c, 
       usrusers u, 
       salesteamname st 
<span class="hljs-keyword">WHERE</span>  c.accountid =  
       <span class="hljs-comment">-- (select accountid from customer where accountnumber = '416191') </span>
       <span class="hljs-keyword">AND</span> c.primarysalespersonid = u.userid 
       <span class="hljs-keyword">AND</span> u.salesteamnameid = st.salesteamid 
</code></pre>
<hr>
<h2><a class="anchor" aria-hidden="true" id="contract-customers"></a><a href="#contract-customers" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Contract Customers</h2>
<p>This report  will give the contract/contracts a customer is on and also the last date the contract instance was used.</p>
<blockquote>
<p>Limited By: <strong>Customer_PAY.accountnumber</strong> - the customer marked as Payer on contract</p>
</blockquote>
<pre><code class="hljs css languages- sql"><span class="hljs-keyword">SELECT</span> cocustomeracctentry.id             <span class="hljs-keyword">AS</span> CoCustomerAcctEntryId, 
       cocustomeracctentry.ownerid        <span class="hljs-keyword">AS</span> InstanceID, 
       Customer_PAY.accountnumber         <span class="hljs-keyword">AS</span> Payor_AccountNumber, 
       Customer_PAY.name1                 <span class="hljs-keyword">AS</span> Payor_Name1, 
       Customer_ADV.accountnumber         <span class="hljs-keyword">AS</span> Adv_AccountNumber, 
       Customer_ADV.name1                 <span class="hljs-keyword">AS</span> Adv_Name1, 
       UsrUsers_PAY.loginname             <span class="hljs-keyword">AS</span> Payor_Primary_Rep, 
       UsrUsers_ADV.loginname             <span class="hljs-keyword">AS</span> Adv_Primary_Rep, 
       SalesTeamName_PAY.teamname         <span class="hljs-keyword">AS</span> Payor_SalesTeam, 
       SalesTeamName_ADV.teamname         <span class="hljs-keyword">AS</span> Adv_SalesTeam, 
       SalesRegionName_PAY.regionname     <span class="hljs-keyword">AS</span> Payor_Region, 
       SalesRegionName_ADV.regionname     <span class="hljs-keyword">AS</span> Adv_Region, 
       <span class="hljs-keyword">Max</span>(coorderratereceived.daterated) <span class="hljs-keyword">AS</span> LastUsed 
<span class="hljs-keyword">FROM</span>   cocustomeracctentry CoCustomerAcctEntry 
       <span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">OUTER</span> <span class="hljs-keyword">JOIN</span> customeraccnumber CustomerAccNumber_PAY 
                    <span class="hljs-keyword">ON</span> cocustomeracctentry.payoracctid = 
                       CustomerAccNumber_PAY.id 
       <span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">OUTER</span> <span class="hljs-keyword">JOIN</span> customeraccnumber CustomerAccNumber_ADV 
                    <span class="hljs-keyword">ON</span> cocustomeracctentry.ordereracctid = 
                       CustomerAccNumber_ADV.id 
       <span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">OUTER</span> <span class="hljs-keyword">JOIN</span> customer Customer_PAY 
                    <span class="hljs-keyword">ON</span> CustomerAccNumber_PAY.custaccnumberaccid = 
                       Customer_PAY.accountid 
       <span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">OUTER</span> <span class="hljs-keyword">JOIN</span> usrusers UsrUsers_PAY 
                    <span class="hljs-keyword">ON</span> Customer_PAY.primarysalespersonid = UsrUsers_PAY.userid 
       <span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">OUTER</span> <span class="hljs-keyword">JOIN</span> salesteamname SalesTeamName_PAY 
                    <span class="hljs-keyword">ON</span> UsrUsers_PAY.salesteamnameid = 
                       SalesTeamName_PAY.salesteamid 
       <span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">OUTER</span> <span class="hljs-keyword">JOIN</span> salesregionname SalesRegionName_PAY 
                    <span class="hljs-keyword">ON</span> UsrUsers_PAY.salesregionid = 
                       SalesRegionName_PAY.salesregionnameid 
       <span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">OUTER</span> <span class="hljs-keyword">JOIN</span> customer Customer_ADV 
                    <span class="hljs-keyword">ON</span> CustomerAccNumber_ADV.custaccnumberaccid = 
                       Customer_ADV.accountid 
       <span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">OUTER</span> <span class="hljs-keyword">JOIN</span> usrusers UsrUsers_ADV 
                    <span class="hljs-keyword">ON</span> Customer_ADV.primarysalespersonid = UsrUsers_ADV.userid 
       <span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">OUTER</span> <span class="hljs-keyword">JOIN</span> salesteamname SalesTeamName_ADV 
                    <span class="hljs-keyword">ON</span> UsrUsers_ADV.salesteamnameid = 
                       SalesTeamName_ADV.salesteamid 
       <span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">OUTER</span> <span class="hljs-keyword">JOIN</span> salesregionname SalesRegionName_ADV 
                    <span class="hljs-keyword">ON</span> UsrUsers_ADV.salesregionid = 
                       SalesRegionName_ADV.salesregionnameid 
       <span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">OUTER</span> <span class="hljs-keyword">JOIN</span> coorderratereceived CoOrderRateReceived 
                    <span class="hljs-keyword">ON</span> cocustomeracctentry.ownerid = 
                       coorderratereceived.contractinstanceid 
<span class="hljs-keyword">WHERE</span>  Customer_PAY.accountnumber = <span class="hljs-string">''</span>                        
<span class="hljs-keyword">GROUP</span>  <span class="hljs-keyword">BY</span> cocustomeracctentry.id, 
          cocustomeracctentry.ownerid, 
          Customer_PAY.accountnumber, 
          Customer_PAY.name1, 
          Customer_ADV.accountnumber, 
          Customer_ADV.name1, 
          UsrUsers_PAY.loginname, 
          UsrUsers_ADV.loginname, 
          SalesTeamName_PAY.teamname, 
          SalesTeamName_ADV.teamname, 
          SalesRegionName_PAY.regionname, 
          SalesRegionName_ADV.regionname 
</code></pre>
<hr>
<h2><a class="anchor" aria-hidden="true" id="aging-tables"></a><a href="#aging-tables" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Aging Tables</h2>
<blockquote>
<p>Limited by: <strong>accountid</strong></p>
</blockquote>
<pre><code class="hljs css languages- sql"><span class="hljs-keyword">SELECT</span> ao.*, 
       ad.* <span class="hljs-comment">--sum(ad.Bucket1Amount) </span>
<span class="hljs-keyword">FROM</span>   agingdetail ad, 
       agingcustomer ac, 
       agingoptions ao 
<span class="hljs-keyword">WHERE</span>  ac.accountid = 
       <span class="hljs-keyword">AND</span> ad.agingcustomerid = ac.id 
       <span class="hljs-keyword">AND</span> ac.agingoptionsid = ao.id 
<span class="hljs-comment">--     AND ao.agingdate = '03-13-2018' </span>
<span class="hljs-comment">--     AND ad.companyid = 23 </span>
</code></pre>
<hr>
<h2><a class="anchor" aria-hidden="true" id="gl-number-from-adordernumber"></a><a href="#gl-number-from-adordernumber" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>GL Number From AdOrderNumber</h2>
<p>Returns GL Information for a given Ad Order Number.</p>
<blockquote>
<p>Limited by: <strong>a.adordernumber</strong></p>
</blockquote>
<pre><code class="hljs css languages- sql"><span class="hljs-keyword">SELECT</span> f.NAME            <span class="hljs-keyword">AS</span> CORE_GLNumber, 
       f.description     <span class="hljs-keyword">AS</span> CORE_GLName, 
       a.adordernumber   <span class="hljs-keyword">AS</span> CORE_ADORDERNUMBER, 
       r.adorderid       <span class="hljs-keyword">AS</span> CORE_AdOrderID, 
       r.adrunscheduleid <span class="hljs-keyword">AS</span> CORE_RunScheduleID, 
       r.glaccountid     <span class="hljs-keyword">AS</span> CORE_GLAccountID 
<span class="hljs-keyword">FROM</span>   rtchargeentryelem r, 
       aoadorder a, 
       fnaccounts f 
<span class="hljs-keyword">WHERE</span>  a.id = r.adorderid 
       <span class="hljs-keyword">AND</span> r.glaccountid = f.id 
       <span class="hljs-keyword">AND</span> a.adordernumber = <span class="hljs-string">'0000000000'</span> 
</code></pre>
<hr>
<h2><a class="anchor" aria-hidden="true" id="agency-or-parent-relationship"></a><a href="#agency-or-parent-relationship" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Agency or Parent Relationship</h2>
<p>the relationshipType field in the Relationship table determines if the relationship is an Agency/Client(2) or Parent/Child (1).</p>
<blockquote>
<p>Limited by: <strong>accountnumber</strong></p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="agency-client"></a><a href="#agency-client" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Agency/Client</h3>
<pre><code class="hljs css languages- sql"><span class="hljs-keyword">SELECT</span> Agency.accountid     Agency_AccountID, 
       Agency.accountnumber Agency_AccountNumber, 
       Agency.name1         Agency_Name, 
       Client.accountid     Client_AccountID, 
       Client.accountnumber Client_AccountNumber, 
       Client.name1         Client_Name, 
       relationship.* 
<span class="hljs-keyword">FROM</span>   customer Agency, 
       customer <span class="hljs-keyword">Client</span>, 
       relationship 
<span class="hljs-keyword">WHERE</span>  Client.accountid = relationship.slaveid 
       <span class="hljs-keyword">AND</span> Agency.accountid = relationship.masterid 
       <span class="hljs-keyword">AND</span> relationship.relationshiptype = <span class="hljs-number">2</span> 
       <span class="hljs-keyword">AND</span> Agency.accountnumber = <span class="hljs-string">'0000000'</span> 
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="parent-child"></a><a href="#parent-child" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Parent/Child</h3>
<pre><code class="hljs css languages- sql"><span class="hljs-keyword">SELECT</span> Parent.accountid     Parent_AccountID,
       Parent.accountnumber Parent_AccountNumber,
       Parent.name1         Parent_Name,
       Child.accountid     Child_AccountID,
       Child.accountnumber Child_AccountNumber,
       Child.name1         Child_Name,
       relationship.*
<span class="hljs-keyword">FROM</span>   customer <span class="hljs-keyword">Parent</span>,
       customer <span class="hljs-keyword">Child</span>,
       relationship
<span class="hljs-keyword">WHERE</span>  Child.accountid = relationship.slaveid
       <span class="hljs-keyword">AND</span> Parent.accountid = relationship.masterid
       <span class="hljs-keyword">AND</span> relationship.relationshiptype = <span class="hljs-number">1</span>
        <span class="hljs-keyword">AND</span> Parent.accountnumber = <span class="hljs-string">'0000000'</span>
</code></pre>
<hr>
<h2><a class="anchor" aria-hidden="true" id="rate-information"></a><a href="#rate-information" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Rate Information</h2>
<blockquote>
<p>Limited by: <strong>adordernumber</strong></p>
</blockquote>
<pre><code class="hljs css languages- sql"><span class="hljs-keyword">SELECT</span> rtchargeentryelem.id <span class="hljs-keyword">AS</span> RTCHARGEID,
       aoadorder.adordernumber,
       rtchargeentryelem.effectivedate,
       rtratename.name      <span class="hljs-keyword">AS</span> RATENAME,
       rttaxschedule.name   <span class="hljs-keyword">AS</span> TAXSCHEDULENAME
<span class="hljs-keyword">FROM</span>   aoadorder,
       rtchargeentryelem,
       rtrate,
       rtratename,
       rttaxschedule
<span class="hljs-keyword">WHERE</span>  aoadorder.id = rtchargeentryelem.adorderid
       <span class="hljs-keyword">AND</span> rtchargeentryelem.ratetableid = rtrate.id (+)
       <span class="hljs-keyword">AND</span> rtrate.ratenameid = rtratename.id (+)
       <span class="hljs-keyword">AND</span> rtchargeentryelem.taxscheduleid = rttaxschedule.id (+)
       <span class="hljs-keyword">AND</span> aoadorder.adordernumber = <span class="hljs-string">'0000000000'</span>;
</code></pre>
<hr>
<h2><a class="anchor" aria-hidden="true" id="aging-tables-1"></a><a href="#aging-tables-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Aging Tables</h2>
<pre><code class="hljs css languages- sql"><span class="hljs-keyword">SELECT</span> ao.*, 
       ad.* <span class="hljs-comment">--sum(ad.Bucket1Amount) </span>
<span class="hljs-keyword">FROM</span>   agingdetail ad, 
       agingcustomer ac, 
       agingoptions ao 
<span class="hljs-keyword">WHERE</span>  ac.accountid = <span class="hljs-number">78497</span> 
       <span class="hljs-keyword">AND</span> ad.agingcustomerid = ac.id 
       <span class="hljs-keyword">AND</span> ac.agingoptionsid = ao.id 
<span class="hljs-comment">--and ao.agingdate = '03-13-2018' </span>
<span class="hljs-comment">--and ad.companyid = 23  </span>
</code></pre>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/support/sql-bi-common-queries.html">← Common BI Queries</a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#core-credits-and-debits">Core Credits and Debits</a></li><li><a href="#core-payments">Core Payments</a></li><li><a href="#fntransactions-joins">fnTransactions Joins</a></li><li><a href="#salescomm-reps">SalesComm Reps</a></li><li><a href="#usrusers-reps">UsrUsers Reps</a></li><li><a href="#contract-customers">Contract Customers</a></li><li><a href="#aging-tables">Aging Tables</a></li><li><a href="#gl-number-from-adordernumber">GL Number From AdOrderNumber</a></li><li><a href="#agency-or-parent-relationship">Agency or Parent Relationship</a><ul class="toc-headings"><li><a href="#agency-client">Agency/Client</a></li><li><a href="#parent-child">Parent/Child</a></li></ul></li><li><a href="#rate-information">Rate Information</a></li><li><a href="#aging-tables-1">Aging Tables</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/newscycle-circle.png" alt="Newscycle Solutions - Analytix Docs" width="66" height="58"/></a><div><h5>Docs</h5><a href="/docs/analytix/analytix-setup.html">Getting Started With Analytix</a><a href="/docs/bi/bi-auditors.html">BI Docs</a></div><div><h5>Newscycle Solutions</h5><a href="http://newscycle.com/" target="_blank">Newscycle Website</a><a href="https://twitter.com/NEWSCYCLE_News?ref_src=twsrc%5Egoogle%7Ctwcamp%5Eserp%7Ctwgr%5Eauthor" target="_blank">Twitter</a></div><div><h5>More</h5><a href="/docs/analytix/analytix-bi-overview.html">Analytix Docs</a><a href="/docs/bi/bi-resources.html">BI Docs</a></div></section><a href="https://newscyclesolutions.com" target="_blank"><img src="/img/NewscycleLogo.png" alt="Newscycle Solutions" width="226" height="42" style="margin:1em auto;display:block;width:226px"/></a><section class="copyright">Copyright © 2018 Newscycle Solutions.</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
              var search = docsearch({
                
                apiKey: 'ccd2672198948e3c79646332385b98fb',
                indexName: 'analytix',
                inputSelector: '#search_input_react',
                algoliaOptions: {}
              });
            </script></body></html>